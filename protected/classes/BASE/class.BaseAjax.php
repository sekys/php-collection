<?require_once($_SERVER["DOCUMENT_ROOT"].'/globals.php');class BaseAjax extends Mess {	    public static function Start() { self::Ochrana(); }	public static function CExit($error = parent::ERROR_TXT) { echo parent::Error($error); exit; } 	public static function Presmeruj($www, $cas = 0) { 		if($cas > 0) self::Js("setTimeout(function() { document.location.href='".$www."'; }, ". $cas*1000 .");");		else self::Js("document.location.href='".$www."';"); 		exit; 	}	public static function Js($js) {		echo '<script type="text/javascript">', $js, '</script>'; 	}	private static function Ochrana() {		// Ak uz navstivil stranku 90%		if(isset($_COOKIE['fusion_visited'])) return true;		// Ak je prihlaseny 50%		if(User::Logged()) return true;		// A ak je to google bot ? 10%		if(Browser::is_bot()) return true;		// Ochrana vlastne funguje aby AJAX stranky nezobrazili si niekde samy na webe		// a zaroven musi najprv navstivit domacu stranku aby sa mu mohli zobrazit ajax		self::Presmeruj(ROOT);	}		public static function CssFile($link) { echo '<link rel="stylesheet" href="'.$link.'" type="text/css" >'; }	public static function JsFile($link) { echo '<script type="text/javascript" language="JavaScript" src="'.$link.'"></script>'; }		}